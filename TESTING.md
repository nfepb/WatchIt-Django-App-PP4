# **Testing**

## **Validation**

The HTML validator was tested on the different pages of the site.

[W3C HTML Validator](https://validator.w3.org/nu/)

- 1 warning:
    - In regards to JavaScript in the Star Rating package - known issue, no solution.
- 1 error:
    - title elements in the templates recognised as errors. The validator sees the template title coming before the header. 
- 16 info messages:
    - informing about line breaks in the code. It is normal and acceptable. The code was formatted automtically through the prettier package as an addon of GitHub. 

[W3C CSS Validator](https://jigsaw.w3.org/css-validator/)

The CSS validator was tested on the different pages of the site.

- 412 warnings:
    - vendor extension issue (Font-Awesome) - known issue, no solution.
    - vendor extension issue (Owl-Carousel) - known issue, no solution.
    - vendor extension issue (Star Rating) - known issue, no solution.
- 17 errors:
    - 1 Font-Awesome CSS issue - known issue, no solution.
    - 16 parsing erorrs due to the Bootstrap - known issue, no solution.

[JSHint JavaScript Validator](https://jshint.com/)

- 0 errors

[Pep8](http://pep8online.com/)

The python extension was used to test Python for Pep8 compliance.
The Python errors encountered during deployment were fixed. Any errors that were related to files that were auto-generated by Django were left untouched.

## **Lighthouse**

<details><summary>Index</summary>

### Desktop

[Index page Desktop](docs/testing/images/lighthouse-desktop.png)

[Opportunities home page](docs/testing/images/lighthouse-opportunity.png)
The biggest challenge was page load due to the images uploaded by the users during the test period. For future projects, it would be a good idea to limit file size and to add an image converter package to convert files into WebP format. 

### Mobile

[Index page mobile](docs/testing/images/lighthouse-mobile.png)

[Opportunities home page](docs/testing/images/lighthouse-mobile-opportunities.png)
</details>

<details><summary>Moviebox</summary>

### Desktop

[Moviebox page Desktop](docs/testing/images/lighthouse-desktop-moviebox.png)

[Opportunities home page](docs/testing/images/lighthouse-opportunity.png)
The biggest challenge was page load due to the images uploaded by the users during the test period. For future projects, it would be a good idea to limit file size and to add an image converter package to convert files into WebP format. 

### Mobile

[Moviebox page mobile](docs/testing/images/lighthouse-mobile-moviebox.png)

[Accessibility focus Moviebox page](docs/testing/images/lighthouse-mobile-moviebox-accessibility.png)
- Buttons for rating from Star Rating package do not have an accessible name.
- Background and Foreground colors do not have a sufficient contrast ratio.
- Heading elements for movie cards are not in a sequentially-descending order.
</details>

<details><summary>Movie Details</summary>

### Desktop

[Movie Details page Desktop](docs/testing/images/lighthouse-desktop-movie-details.png)
- Buttons for rating from Star Rating package do not have an accessible name.
- Background and Foreground colors do not have a sufficient contrast ratio.
- Heading elements for movie cards are not in a sequentially-descending order.

### Mobile

[Movie Details page mobile](docs/testing/images/lighthouse-mobile-movie-details.png)
- Huge performance drop due to the size of the images. 
</details>

<details><summary>Genre Details</summary>

### Desktop

[Genre Details page Desktop](docs/testing/images/lighthouse-desktop-genre-details.png)

### Mobile

[Genre Details mobile](docs/testing/images/lighthouse-mobile-genre-details.png)
</details>

<details><summary>My Watchlist</summary>

### Desktop

[My Watchlist page Desktop](docs/testing/images/lighthouse-desktop-my-watchlist.png)
- Image sizing was also the main challenge. 

### Mobile

[My Watchlist mobile](docs/testing/images/lighthouse-mobile-my-watchlist.png)

[Opportunities My Watchlist page](docs/testing/images/lighthouse-mobile-my-watchlist-opps.png)
</details>

<details><summary>Update Review</summary>

### Desktop

[Update Review page Desktop](docs/testing/images/lighthouse-desktop-edit-review.png)

### Mobile

[Update Review mobile](docs/testing/images/lighthouse-mobile-edit-review.png)
</details>

<details><summary>Admin Only</summary>

### Desktop

[Admin Only page Desktop](docs/testing/images/lighthouse-desktop-admin-only.png)

### Mobile

[Admin Only mobile](docs/testing/images/lighthouse-mobile-admin-only.png)
</details>

<hr>

## **Manual Testing**

### **EPIC: Admin**

* &check; As an admin, I can create a new movie entry, so that users can review the movie that does not yet exist on the website.
    - Page loading correctly, displaying the correct form.
    - When I try to submit the form without filling in all the fields, the form is not submitted and I was a visual telling me what I need to do to submit the form succesfully.
* &check; As an admin, I can create a new genre entry, so that users can link movies to a genre and discover movies associated to this genre.
    - Through the Django admin panel, I can create a new genre by filling in the fields displayed through the form. 
* &check; As an admin, I can approve or decline new movie additions created by users, so that I can keep a clear database.
    - Through the Django admin panel, I can see the list of all the movies.
    - I can filter the list of movies based on the field status 'movie_approved'.
    - I can take an action to modify the status to `True` succesfully.
* &check; As an admin, I can validate or delete new movie listings to be approved through the site, so that my role is made easier.
    - Through the Admin Only page displayed when I am logged in as the admin, all the new movie additions are displayed in a list for me to review.
    - I can see all the fields filled in by the user in submitting the movie.
    - The poster of the movie is displayed.
    - I see the 2 buttons which allow me to take an action on each movie of the list.
    - When I click on 'Approve', the AddMovie form is successfully loading with the information submitted by the user.
    - Before final validation, I can edit any of the information the user has passed on in his submission of the movie.
    - When I click on 'Approve', the movie changes status to approved = True to be visibile for other users. 
    - When I click on 'Delete', the movie is deleted from the database.


### **EPIC: User**

* &check; As a user, I can easily understand the purpose of this website on the homepage, so that I can easily understand the value proposition.
    - The elements on the page load correctly on mobile and on desktop and tablet. 
    - The purpose of the website is clear, so is its value proposition. 
    - I can decide by scrolling down if there are any movies or genres that are interesting to me at this stage.
* &check; As a user, I can easily navigate through the website, so that I can access the pages that I relevant for my usage.
    - The navigation bar is rendered properly and is reposnvie to make the navigation easy.
    - By hovering over the elements of the navigation bar, a visual effect allows me to clearly see what I am about to click on.
    - Clicking on the brand bring me back to the home page.
    - The "What's New" brings me back to the home page as well.
    - Based on my login status, different elements of the navbar will appear: 
        - as an admin, I only can access the "admin only" page navigation. 
        - as a logged in user, login & signup are no longer visible to me.
        - as a logged in user, "My Watchlist" appears as an item of the nav.    
* &check; As a user, I can browse a list of movies, so that I can discover newly added movies easily.
    - On the homepage, I can browse through a list of movie ordered 
    - "Moviebox" brings me to a page when I can see all the movies listed, ordered by date of latest creation. 
    - When there are more than 8 movies displayed on the page, pagination buttons appear at the bottom of the page to further browse the catalogue.
    - A searchbar allows all users (logged in, logged out, & admins) to look for movies based on key words in the title and synopsis.
    - A Button allows me to cancel my search and make all the movies appear again. 
    - When clicking on a genre from the homepage or from a movie, I can see a list of movies that are associated with the movie genre.
* &check; As a user, I can browse a list of movie genres, so that I can discover reviewed movies in a genre I am interested in.
    - From the home page, I can browse through the catalogue of movie genres added to the website. 
    - Within a genre detail, I can see a list of other types of genres.
    - I can click onto another genre and see the same list at the bottom of the page.
    - Within the genre details page, I can see a list of movies associated with the genre, it's rating, and some information about the movie. 
* &check; As a user, I can read more information about a movie in which I am interested in, so that I can judge if I am interested in this movie.
    - Clicking on a movie from the list displayed on the homepage takes me the to correct page where I can read more about the movie.
    - The star rating allows me to visually see how other users rate this movie.
    - Additional information allow me to know what the average rate is, how many users rated the movie, and if I rated the movie or not.
    - From My Watchlist, I land on the correct movie detail page based on the movie I clicked on. 
    - From My Watchlist, I am directed to the correct movie detail page based by clicking on the movie title I posted a review on. 
* &check; As a user, I can read other people's review of the movie, so that I can read other people's thoughts of the movie. 
    - The reviews posted by myself are correctly appearing on the movie detail page.
    - Other users's reviews are correctly appearing on the movie page of the movie they commented on.
* &check; As a user, I can write a review for a movie, so that so that I can share my opinion and rating of the movie.
    - As a non-signed in user, I cannot comment on movies.
    - As a user, when I click on the 'Review' on the movie detail page, I am being brought to the review section of the page.
    - I can see a large text box where I can type my thoughts.
    - I can review the text prior to submitting it.
    - Once I click on post, I can immediatly see my comment on the movie detail page.
    - As a user, I can hover over the star rating system and see visually how I am about to rate the movie.
    - The text is feeding back information to the user letting me know if I rated the movie.
* &check; As a user, I can create a personal account, so that so that I can review movies I have watched and save movies to my watchlist.
    - As a guest user, I can see the 'Login / Sign Up' item in the navigation bar. 
    - On the different pages of the website, there is a compelling event for me to sign in or to create an accounts.
    - When browsing the movie detail page, I am asked to log in or to sign up 
* &check; As a user, I can add a movie, so that I can share my opinion on movies that are not being reviewed yet or new add movies to my watchlist.
    - When logged in, I can see a 'Add a movie' displayed on the Moviebox page.
    - When clicking on it, I am being directed to a new page where the correct form appears. 
    - I can fill in the fields and upload an image successfully. 
    - If I try submitting the form prior to filling in all the fields, I get a visual message allowing me the understand what I need to do to submit the form succesfully.
    - After filling in the fields succesfully, the form is saved for approval by an admin. 
* &check; As a user, I can add a movie to a genre, so that the movie can be easily discovered by other users and potentially discover new movies in the same genre.
    - Through the form, I can link the movie to a genre. 
    - The movie appears succesfully in the genre_detail movie list.
    - When clicking on the genre from the movie detail page, I land succesfully on the detail page of the genre. I can browse there through other movies linked to the same genre. 
* &check; As a user, I can add movies to my watchlist, so that I can keep track of the movies that I wish to watch in the future.
    - From the movie detail page, I can save movies to add them to my watchlist. 
* &check; As a user, I can see the list of movies I added to my watchlist, so that I can keep track of movies I find interesting.
    - When navigating to My Watchlist, the movies I watchlisted are being displayed as a list.
    - I can remove a movie from this list by clicking on the same button I clicked on. The movie is succesfully removed from my list.
    - Based on the color of the icon, I know if a movie is in my list or not.
    - By clicking on the icon, I get a visual confirmation by seeing the number of people that watchlisted this movie increasing or decreasing based on my action. 
* &check; As a user, I can see the list of reviews I posted, so that I can keep track of my thoughts on the movies I reviewed.
    - I can see the list of my reviews appearing on 'My Watchlist'-page. The reviews are ordered from the newest to the oldest.
    - If I did not post any reviews, a message is there to let me know. 
    - Each review display specific information such as the movie title, which works as a link for me to navigate easily and read other people's reviews, the timestamp, and the content of my review. 
* &check; As a user, I can rate the movies I have watched, to guide other users to the movies I think are worth watching and discover good movies.
    - From the movie page, I can click on the visual star rating to rate the movie. 
    - The average rating is automatically calculated. It is re-calculated if the user changes their rating. 
    - I can keep track of the movies I rated thanks to the text displayed telling me if I rated the movie or not.  
* &check; As a user, I can search through the list of movies, so that I easily find a specific movie I am interested in.
    - From the moviebox, I can see an input with 'Search' as placeholder text. 
    - The searchbar filters the approved movies collection and searches through the following fields of each book object: title, director, synopsis. 
    - Clicking on the X removes all defined filters and re-directs the user to the same page. By clicking on this same button without an input redirects the user to this same page.  
* &check; As a user, I can update or delete a posted review, so that I can control my posted content.
    - From the My Watchlist page, I can edit and delete my previously posted reviews through the associated buttons to each review in the list.
    - Clicking on 'Update' brings me to the edit review page, when I can modify the content field. Once I done, I can save it by clicking on "Update Review". 
    - Clicking on "Delete" brings me to the delete review page. This page is there for 2nd confirmation and make sure the user is choosing the delete their review. 
